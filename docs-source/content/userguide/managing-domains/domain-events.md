+++
title = "Domain events"
date = 2020-11-30T16:43:45-05:00
weight = 9
pre = "<b> </b>"
+++

#### Contents

- [Overview](#overview)
- [Operator-generated event types](#operator-generated-event-types)
- [Operator-generated event details](#operator-generated-event-details)
- [How to access domain events](#how-to-access-the-events)

#### Overview

This document describes Kubernetes events that the operator generates about resources that it manages, during key points of its processing workflow. These events provide an additional way of monitoring your domain resources. Note that the Kubernetes server also generates events for standard Kubernetes resources, such as pods, services, and jobs that the operator generates on behalf of deployed domain custom resources.

#### Operator-generated event types

The operator generates these event types, which indicate the following:

 *  `DomainCreated`: A new domain is created.
 *  `DomainChanged`: A change has been made to an existing domain.
 *  `DomainDeleted`: An existing domain has been deleted.
 *  `DomainProcessingStarting`: The operator has started to process a new domain or to update an existing domain. This event may be a result of a `DomainCreate`, `DomainChanged`, or `DomainDeleted` event, or a result of a retry after a failed attempt.
 *  `DomainProcessingFailed`: The operator has encountered a problem while it was processing the domain resource. The failure either could be a configuration error or a Kubernetes API error.
 *  `DomainProcessingRetrying`: The operator is going to retry the processing of a domain after it encountered an failure.
 *  `DomainProcessingCompleted`:  The operator successfully completed the processing of a domain resource.
 *  `DomainProcessingAborted`:  The operator stopped processing a domain when the operator encountered a fatal error or a failure that persisted after the specified maximum number of retries.
 *  `DomainValidationError`:  A validation error or warning is found in a domain resource. Please refer to the event message for details.
 *  `NamespaceWatchingStarted`: The operator has started watching for domains in a namespace.
 *  `NamespaceWatchingStopped`: The operator has stopped watching for domains in a namespace.

#### Operator-generated event details

Each operator-generated event contains the following fields:
 *  `metadata`
    *  `namespace`:  Same as the domain resource namespace.
    *  `labels`:   `weblogic.createdByOperator=true` and, for a domain event, `weblogic.domainUID=<domainUID>`.
 *  `type`:  String field that describes the type of the event. Possible values are `Normal` or `Warning`.
 *  `count`: the number of occurrences of the same event. Note that the events are matched by the combination of the `resaon`, `invoveldObject`, and `message` fields.
 *  `reportingComponent`:  String that describes the component that reports the event. The value is `weblogic.operator` for all operator-generated events.
 *  `reportingInstance`:  String that describes the instance that reports the event. The value is the Kubernetes pod name of the operator instance that generates the event.
 *  `firstTimestamp`:  `DateTime` field that presents the timestamp of the first occurrence of this event.
 *  `lastTimestamp`:  `DateTime` field that presents the timestamp of the last occurrence of this event.
 *  `reason`:  Short, machine understandable string that gives the reason for the transition to the object's current status.
 *  `message`:  String that describes the details of the event.
 *  `involvedObject`:  `V1ObjectReference` object that describes the Kubernetes resources with which this event is associated.
    *  `name`:  String that describes the name of the resource, either a domain resource, in which case the name is the `domainUID`, or a namespace, in which case the name is the name of the namespace.
    *  `namespace`:  String that describes the namespace of the event, which is the namespace of the domain resource for a domain event.
    *  `kind`:  String that represents the REST resource this object represents. The value is `Domain` for a domain event, and `Namespace` for a namespace event.
    *  `apiVersion`:  String that describes the `apiVersion` of the involved object, which is the `apiVersion` of the domain resource, for example, `weblogic.oracle/v8`, for a domain event, and is not set for a namespace event.
    *  `UID`: the unique identifier of the object that is generated by the Kubernetes server.
    
#### How to access the events

To access the events that are associated with all resources in a particular namespace, run:

 ```none
 $ kubectl get events -n [namespace]
 ```

To get the events and sort them by their last timestamp, run:

```none
 $ kubectl get events -n [namespace] --sort-by=lastTimestamp
```

To get all the events that are generated by the operator, run:

```none
 $ kubectl get events -n [namespace] --selector=weblogic.createdByOperator=true
```

To get all the events that are generated by the operator for a particular domain resource, for example `sample-domain1`, run:

```none
 $ kubectl get events -n [namespace] --selector=weblogic.domainUID=sample-domain1&&weblogic.createdByOperator=true --sort-by=lastTimestamp
```
